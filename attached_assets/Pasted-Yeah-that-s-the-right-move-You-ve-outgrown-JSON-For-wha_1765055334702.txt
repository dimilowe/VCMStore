Yeah, that’s the right move. You’ve outgrown JSON. For what you’re building, staying file-based would choke everything.
1. Directionally: correct
“No tools table exists yet – tools are managed via JSON files. I'll create the table and wire up the expansion generator to insert directly into the database.”
Yes:
Create a tools table and make it the single source of truth.
Migrate existing JSON-defined tools into it.
Point the Engine Expansion Factory at that table instead of generatedShells.json.
JSON can stay as a backup/export, but not as the core registry.
2. Minimum tools table schema you actually need
Something like:
id (PK)
name
slug (UNIQUE, NOT NULL) ← critical, everything hangs off this
engine (e.g. ai-analysis, platform-resizer, calculator)
cluster_slug (nullable)
segment / category (nullable)
status (draft | published | archived)
link_status (not_ready | ready)
is_indexed (boolean)
in_directory (boolean)
is_featured (boolean)
primary_keyword (nullable)
created_at
updated_at
You can add more later (description, meta_title, etc.), but this is enough for C.A.S.E., audits, and SEO control.
3. Migration plan (don’t screw the live site)
Create tools table with schema above, slug unique index.
Write a one-off script:
read existing tools JSON
insert rows into tools
keep slugs identical so URLs don’t change → SEO safe
Add a ToolsRepo abstraction:
getToolBySlug
listTools(filters)
createTool
updateTool
Update:
Tool Control Panel
tool pages / dynamic routes
to use ToolsRepo (DB) instead of reading JSON directly.
After you’ve confirmed everything works:
stop using JSON as source of truth
keep it only as export/backup if you want
During this, URLs stay the same, so Google doesn’t care.
4. Wire Engine Expansion to DB
expandBlueprint() should now:
use the ToolsRepo:
check getToolBySlug(slug) → skip if exists
createTool({...defaults}) for new combos
set fields:
status: "draft",
link_status: "not_ready",
is_indexed: false,
in_directory: false,
is_featured: false,
engine: blueprint.engine_key,
cluster_slug: clusterResolver(combo),
primary_keyword: computedKeyword,
Result: you click Run Expansion, and new rows appear instantly in Tool Control Panel as drafts.
5. Why this is non-negotiable
For C.A.S.E. + V.A.S.E. + Cartesian you need:
filtering
counts
health scoring
interlink audits
analytics joins
You do not want to be doing that against a pile of JSON files.
So yes: build tools as a proper table, migrate the existing entries, and point the factory at it. That’s the adult version of this system.