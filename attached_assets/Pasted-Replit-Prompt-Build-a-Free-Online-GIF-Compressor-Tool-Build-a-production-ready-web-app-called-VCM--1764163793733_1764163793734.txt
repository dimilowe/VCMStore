Replit Prompt: Build a Free Online GIF Compressor Tool
Build a production-ready web app called “VCM GIF Compressor” that runs on Replit. This is a single-purpose tool: compress GIF files in the browser via a Node.js/Express backend using ffmpeg. It must be fast, simple, and SEO-friendly so it can rank for the keyword “gif compressor”.
Tech stack
Backend: Node.js + Express
Frontend: Vanilla HTML/CSS/JS (no React needed)
File upload handling: multer
GIF compression: ffmpeg CLI (assume we’re on a Linux Replit environment; install via apt or use system ffmpeg if available)
Use EJS or plain HTML templates (whichever is simplest) – one main page.
Core requirements
Routes
GET /
Renders the main GIF compressor page with:
H1: Free GIF Compressor (Reduce GIF Size Online)
Short description under H1.
Upload form with:
File input (accept only .gif)
Optional dropdown for compression level:
“Light (best quality)”
“Balanced”
“Max compression (smallest file)”
Submit button: Compress GIF
Below the form, space for result area (download link + before/after sizes) once a compression is complete.
POST /compress
Accepts a single uploaded GIF via multer.
Validates:
File exists
MIME type is image/gif
Max file size 10MB (reject larger with a user-friendly error).
Saves uploaded GIF to a temp directory.
Runs ffmpeg to compress:
Use palettegen + paletteuse to preserve quality while shrinking.
Change bitrate/quality based on chosen compression level:
Light: mild compression
Balanced: default
Max: aggressive compression
On success:
Return a page (or JSON rendered into the same template) with:
Download button for the compressed GIF (/download/<id>).
Display original size vs compressed size and % reduction.
On failure:
Show simple error message on the same page.
GET /download/:id
Serves the compressed GIF as an attachment.
After sending the file, clean up both original and compressed temp files.
Compression logic (ffmpeg)
Use a helper function that takes:
inputPath, outputPath, compressionLevel
Implement three presets something like:
Light: ffmpeg -i input.gif -vf "fps=15,scale=iw:ih:flags=lanczos" -loop 0 output.gif
Balanced: reduce fps + apply palettegen/paletteuse.
Max: reduce fps further + maybe scale down (e.g. max width 480px).
The goal is noticeably smaller files while keeping the GIF visually acceptable.
UI/UX
Clean, minimal center layout:
Light background, dark text.
The tool must be usable on mobile.
Above the fold: upload form and CTA button.
After upload:
Show:
“Original size: X KB”
“Compressed size: Y KB”
“Size reduced by Z%”
Download button.
Include a small note under the button:
Tip: Re-upload the same GIF with “Max compression” if you need an even smaller file.
SEO / Copy
<title> tag: GIF Compressor – Free Online GIF Size Reducer (Fast & No Watermark)
Meta description:
Compress GIF files online for free. Fast GIF compressor that reduces file size without watermark or sign-up. Perfect for memes, social media, and websites.
H1 already specified above.
Under the tool, add a ~400 word SEO section with headings:
What is a GIF Compressor?
Why Compress a GIF?
How to Use This Free GIF Compressor
Features of VCM GIF Compressor
Basic FAQ section at the bottom with 3–4 common questions (e.g., “Does this add a watermark?”, “Is there a file size limit?”, “Is this tool free to use?”, “Does compression reduce quality?”).
Safety, limits, and cleanup
Enforce max upload size of 10MB with multer limits.
Reject non-GIF files with a clean error.
Store uploads in a /tmp or uploads/ directory and delete both originals and processed GIFs after download OR after a short timeout.
Handle errors gracefully and return user-friendly text instead of stack traces.
Simple rate limiting
Implement a basic in-memory rate limiter (per IP) so a user can only do something like 20 compressions per hour.
If limit is exceeded, show:
“You’ve hit the hourly limit for free compressions. Please try again later.”
VCM OS CTA integration
Under the result area, include a small CTA box:
Title: Turn Your GIFs Into Money
Text: Use APE (Auto Paywall Everything) to gate your best GIFs and animations behind tips, subscriptions, or one-time unlocks.
Button linking to a placeholder URL: /products/ape (make the route exist as a simple static page or external link placeholder).
Styling
Use a single CSS file with:
Centered container
Max-width ~720px
Responsive layout
Clear buttons and inputs
No CSS frameworks needed; keep it lightweight.
Project structure (suggestion)
index.js – Express app
views/
index.ejs or index.html – main page
public/
styles.css
uploads/ – temp folder for GIFs (gitignored)
Utility module for ffmpeg commands.
Run instructions
App must start with node index.js on port 3000 or process.env.PORT.
Show "VCM GIF Compressor running on http://localhost:3000" in the console on start.
Make sure the final app is ready to deploy as-is on Replit (no missing scripts, no placeholder TODOs)