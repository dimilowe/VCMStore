1. Wire Blog Posts to Clusters
You need a way for your system to know:
“These blog posts belong to this cluster.”
Add fields to your existing blog_posts table (or equivalent):
cluster_slug (string | nullable) → e.g. "calorie-counter"
is_auto_generated (boolean, default false) – just for tracking
is_indexed (boolean, default false)
status (enum or string: "draft" | "published")
You already have:
title
slug
content / body
meta_description (probably)
You don’t need a new table. Just extend the one you’ve got.
2. Define the Planned Articles per Cluster
You already conceptually have:
Steps vs Calories Walking
Walking for Fat Loss
What Are Maintenance Calories?
Maintenance vs Deficit vs Surplus
Make that official in code.
Example helper:
type PlannedClusterArticle = {
  title: string;
  slug: string;
};

export function getPlannedArticlesForCluster(clusterSlug: string): PlannedClusterArticle[] {
  if (clusterSlug === "calorie-counter") {
    return [
      { title: "Steps vs Calories Walking", slug: "steps-vs-calories-walking" },
      { title: "Walking for Fat Loss", slug: "walking-for-fat-loss" },
      { title: "What Are Maintenance Calories?", slug: "what-are-maintenance-calories" },
      { title: "Maintenance vs Deficit vs Surplus", slug: "maintenance-vs-deficit-vs-surplus" },
    ];
  }

  return [];
}
This is just metadata so your admin UI can say “4/4 expected articles.”
3. Draft Creation (No AI Involved)
Since Replit writes the articles, the app just needs to make sure there’s a draft record ready for each slug.
Two options:
Option A – Manual:
You create blog posts via existing /admin/blog:
Create post with the correct slug
Assign cluster_slug = "calorie-counter"
Paste content Replit generated
Leave status = "draft", is_indexed = false
Option B – Helper “Create Empty Drafts” Button:
Add a button on the cluster admin page:
“Create Missing Drafts”
That button:
Reads getPlannedArticlesForCluster(clusterSlug)
For each planned article:
If no blog_posts.slug exists:
Insert a new row with:
title
slug
cluster_slug
status = "draft"
is_indexed = false
content = "" (empty)
You then open those drafts in /admin/blog and have Replit generate/fill the article body directly in your editor.
No AI client needed. Your app just handles draft shells.
4. Cluster Admin UI: The “4/4 Generated, 0/4 Published” View
On /admin/clusters/[clusterSlug], build a view that:
Uses getPlannedArticlesForCluster(clusterSlug) → expected list.
Queries blog_posts filtered by cluster_slug = clusterSlug.
Joins the two so you can show per slug:
Title
Slug
Exists in DB: yes/no
Status: Draft / Published
Indexed: true/false
You can show something like:
“4 planned · 3 drafts found · 1 missing”
Or “4/4 Generated, 0/4 Published” once all rows exist.
Per row:
Preview → opens frontend or an admin preview route.
Edit → deep-link into blog editor with that post loaded.
Toggle Published → PATCH blog_post.status.
Toggle Indexed → PATCH blog_post.is_indexed.
This gives you the exact workflow:
Open cluster → see coverage → click article → preview → edit → toggle.
5. Make the Toggles Actually Matter
5.1. Published
Your public blog route must honor:
status = "draft" → not publicly visible (or only visible to admins)
status = "published" → visible
So in /blog/[slug] loader:
If status !== "published" → return 404 (unless admin).
5.2. Indexed
Tie is_indexed to:
<meta name="robots">
is_indexed = false → noindex, nofollow
is_indexed = true → index, follow
Sitemap generation:
Only include posts where:
status = "published"
is_indexed = true
That’s how “Toggle Indexed” = “Gets submitted to search engines” becomes literally true, not imaginary.
6. Cluster Health Score Hook
Your existing cluster health score logic should:
Count a planned article as “present” if there is a blog_post with:
matching slug
cluster_slug = clusterSlug
Give full “Article” credit when:
status = "published"
Give full “Interlinking” credit when:
Tools ↔ articles ↔ pillar links exist (you can check via stored link data later, but honestly for now you can cheat and just assume “published blog posts exist = good enough”).
Point is: once you have real posts tied to clusters, the 65 → 90+ jump becomes deterministic.
7. Your Actual Day-to-Day Flow With This Setup
For the calorie cluster:
Go to /admin/clusters/calorie-counter
Click “Create Missing Drafts” (if you implement that), or just make them via /admin/blog with the right slugs.
In blog editor:
Use Replit AI to generate each article
Save as draft
Back in cluster admin:
See: 4/4 Drafts · 0/4 Published
Click each:
Preview content
Quick edit if needed
Flip:
Published = ON
Indexed = ON once you’re confident
No OpenAI key, no in-app AI, no extra infra.
You just gave your existing Replit flow a proper OS around it.
If you want, I can now turn this into a tight dev task checklist (like 10 bullet points you can literally hand to Replit as “do this in the codebase”).