You are building a production-ready web app on Replit called:

   "Photo Gallery Maker – Create a Gallery of Photos Online"

This is a free, public-facing tool where users can upload multiple photos, choose a gallery layout, preview it, and export it as either:
- a single collage image (PNG), and/or
- an HTML/CSS snippet they can embed on their own site.

====================================
TECH STACK
====================================

- Node.js + Express backend (static file server only)
- Vanilla HTML + CSS + JavaScript frontend (no React)
- Use HTML5 <input type="file"> for uploads.
- Use client-side rendering for the gallery.
- Use an HTML <canvas> to generate a downloadable PNG collage of the gallery.
- No backend image storage, no DB, no external APIs. All work is client-side.

====================================
PROJECT STRUCTURE
====================================

Create:

- package.json
- index.js                  (Express server)
- public/
    - index.html            (UI)
    - styles.css            (styling)
    - app.js                (logic)

====================================
SERVER (index.js)
====================================

Requirements:

- Use Express.
- Serve static files from `public` directory.
- Listen on process.env.PORT || 3000.
- No API routes; everything is static and client-side.

Pseudocode:

- const express = require("express");
- const app = express();
- app.use(express.static("public"));
- app.listen(PORT, () => console.log("Listening on " + PORT));

====================================
FRONTEND UI (public/index.html)
====================================

Create a clean, single-page layout.

<head>:
- <title>Photo Gallery Maker – Free Gallery of Photos Tool</title>
- Link to styles.css and app.js (defer).

<body>:
- <main class="container">

  1. Header:
     - <h1>Photo Gallery Maker</h1>
     - Short paragraph: “Upload images, choose a layout, and instantly create a gallery of photos for your website, blog, or social media.”

  2. Controls Section:
     A panel with:

     - File input:
       - Label: “Upload photos”
       - <input type="file" multiple accept="image/*">
       - Small helper text: “Images are processed in your browser and not uploaded to our server.”

     - Layout select:
       - Label: “Layout”
       - <select>
         - Grid – 3 columns
         - Grid – 4 columns
         - Masonry – Pinterest style
         - Horizontal strip
       - Use data attributes or values to distinguish types.

     - Spacing control:
       - Label: “Spacing between photos”
       - <input type="range" min="0" max="40" step="2" value="8">

     - Border radius control:
       - Label: “Corner radius”
       - <input type="range" min="0" max="30" step="2" value="8">

     - Background color:
       - Label: “Background color”
       - <input type="color" value="#ffffff">

     - Buttons:
       - Primary button: “Generate Gallery” (applies settings to preview area)
       - Secondary button: “Download as Image (PNG)”
       - Secondary button: “Copy HTML & CSS”

  3. Preview Section:
     - <section id="preview-section">
       - <h2>Gallery Preview</h2>
       - <div id="gallery-preview" class="gallery-preview"></div>
       - This container will display the gallery using CSS (grid or masonry) based on current options.

  4. Export Section:
     - <section id="export-section">
       - Hidden <textarea> or <pre> where generated HTML/CSS code is shown when user clicks “Copy HTML & CSS”.
       - A status message area for success/error messages.

  5. SEO Content Section (under the tool):
     - <section>
       - <h2>What Is a Gallery of Photos?</h2>
       - Paragraph describing photo galleries.
       - <h2>Popular Photo Gallery Layouts</h2>
       - Explain grid, masonry, horizontal strip, etc.
       - <h2>How to Use This Photo Gallery Maker</h2>
       - List of steps.
       - <h2>Best Uses for a Gallery of Photos</h2>
       - Bullet list: portfolios, blogs, product pages, social collages, etc.

- Add a small footer with muted text: “All images are handled locally in your browser.”

Use semantic HTML (<main>, <section>, <header>, <footer>).

====================================
STYLING (public/styles.css)
====================================

Goal: simple, modern, and responsive.

- Body:
  - background: #f5f5f5;
  - font-family: system UI stack;
  - margin: 0;

- .container:
  - max-width: 1100px;
  - margin: 40px auto;
  - padding: 24px;
  - background: #ffffff;
  - border-radius: 12px;
  - box-shadow: 0 10px 25px rgba(0,0,0,0.05);

- Controls:
  - Use CSS grid / flexbox for inputs.
  - On desktop: two columns; on mobile: single column.
  - Spacing between fields: 12–16px.
  - Buttons: primary color (#111827 or similar), rounded corners, hover state.

- #gallery-preview:
  - min-height: 200px;
  - border: 1px dashed #d1d5db when empty.
  - margin-top: 16px;
  - background-color bound to selected color.
  - For grid layout: display:grid with adjustable gap and template columns.
  - For masonry: use CSS column layout (e.g., column-count with column-gap).

- .gallery-image:
  - width: 100%;
  - display: block;
  - border-radius bound to chosen corner radius.

- Make sections responsive; allow the gallery to expand full width on small screens.

====================================
FRONTEND LOGIC (public/app.js)
====================================

Implement in plain JavaScript.

1. On DOMContentLoaded:
   - Grab references to:
     - file input
     - layout select
     - spacing range
     - radius range
     - background color input
     - Generate button
     - Download-as-image button
     - Copy HTML/CSS button
     - gallery preview container
     - export text area / status area

   - Attach event listeners:
     - Generate button → `buildGalleryPreview()`
     - Download button → `downloadGalleryAsImage()`
     - Copy HTML/CSS button → `copyHtmlCssSnippet()`

2. Store uploaded images:

   - When files are selected:
     - Read them via FileReader as object URLs or data URLs.
     - Store in an array, e.g. `let images = [{ src, name, width, height }, ...]`.
     - You can lazily get width/height by creating Image objects and listening to `onload`.

   - For privacy, do not upload anywhere; keep everything in memory.

3. Function: `buildGalleryPreview()`

   - Clear previous preview content.
   - If no images, show a hint like “Upload some photos to start.”
   - Apply selected background color to preview container.
   - Set gap/spacing with inline style, e.g. `style.gap = spacing + "px"` for grid; for masonry, use `column-gap`.
   - Set border radius on each image.

   - Layout logic:
     - If layout is “Grid – 3 columns”:
       - `display: grid; grid-template-columns: repeat(3, 1fr);`
     - If “Grid – 4 columns”:
       - `grid-template-columns: repeat(4, 1fr);`
     - If “Masonry – Pinterest style”:
       - Use:
         - `display: block; column-count: 3 or 4; column-gap: spacing;`
       - Each image inside configured accordingly (width:100%; margin-bottom: spacing).
     - If “Horizontal strip”:
       - `display: flex; overflow-x: auto;` each image with fixed height and auto width.

   - For each image in the images array:
     - Create an <img> element with class `gallery-image`, src set to the object URL or data URL.
     - Append to preview container.

4. Function: `generateHtmlCssSnippet()`

   - Create a string of HTML representing the gallery:

     ```html
     <div class="my-photo-gallery">
       <img src="image1.jpg" alt="">
       <img src="image2.jpg" alt="">
       ...
     </div>
     ```

   - Create a CSS snippet that users can copy:

     - For example, for grid 3 columns:

       ```css
       .my-photo-gallery {
         display: grid;
         grid-template-columns: repeat(3, 1fr);
         gap: 8px;
         background: #ffffff;
         padding: 8px;
       }

       .my-photo-gallery img {
         width: 100%;
         display: block;
         border-radius: 8px;
       }
       ```

   - Put combined HTML + CSS into a <textarea> or <pre> element in the export section.

5. Function: `copyHtmlCssSnippet()`

   - Call `generateHtmlCssSnippet()` if needed.
   - Use `navigator.clipboard.writeText(snippet)` to copy text.
   - Show a small success message: “HTML & CSS copied to clipboard.”

   - Note: When generating HTML snippet, use placeholder filenames like `photo-1.jpg`, `photo-2.jpg`, etc., and a note that the user should substitute their own image URLs/paths.

6. Function: `downloadGalleryAsImage()`

   - Implement a basic collage export:

     - Create an off-screen <canvas>.
     - Decide a fixed width (e.g. 1200px).
     - Depending on layout (simplify to grid for export), compute:
       - number of columns
       - rows = ceil(images.length / columns)
       - cell width = canvas width / columns
       - cell height = cell width (simple square) or maintain aspect ratio.

     - For each image:
       - Load into an Image instance (if not already).
       - Draw onto canvas at the correct (x, y) position using `ctx.drawImage`.
       - Apply spacing by adjusting x/y and possibly background.

     - Set canvas background to chosen background color before drawing.

     - After drawing all:
       - `canvas.toDataURL("image/png")`.
       - Create a temporary <a> element with `href` set to that data URL and `download = "photo-gallery.png"`.
       - Trigger click programmatically to download.

   - If there are no images, show an error.

7. Basic validation and UX:

   - If user clicks Generate without images -> show “Please upload at least one photo.”
   - Handle large numbers of images reasonably (e.g., warn if > 50).
   - Catch errors and show a friendly error message in the status area.

====================================
SEO CONTENT (index.html)
====================================

Under the tool, add static content:

- H2: "What Is a Gallery of Photos?"
  - Short paragraph explaining that it’s a layout of multiple images for portfolios, blogs, and product showcases.

- H2: "Popular Photo Gallery Layouts"
  - Describe:
    - Grid galleries
    - Masonry galleries
    - Horizontal strips / carousels
    - Collages for social media

- H2: "How to Create a Gallery of Photos with This Tool"
  - Step-by-step list (upload, choose layout, adjust spacing, export).

- H2: "Best Uses for a Gallery of Photos"
  - Bullet list: creator portfolios, product photos, case studies, blog posts, event recaps, social media collages.

All text should be original, not copied from other sources.

====================================
QUALITY CHECKS
====================================

- The app runs with:
  - `npm install`
  - `npm start` (or `node index.js`)

- On the frontend:
  - Uploading multiple images works.
  - Gallery preview updates when "Generate Gallery" is clicked.
  - Spacing, border radius, and background color controls work.
  - "Download as Image (PNG)" downloads a collage PNG.
  - "Copy HTML & CSS" copies a usable snippet.
  - Layout is responsive on mobile.

Build the full project with all of the above requirements.
