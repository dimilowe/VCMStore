You are building a production-ready web app on Replit called:

   "401k Retirement Estimator – Estimate 401k at Retirement"

It should be a simple, fast micro-tool with:
- Node.js + Express backend (static file server only, no DB)
- Vanilla HTML/CSS/JS frontend (no React)
- All calculator math done in the frontend (no AI, no external APIs)

====================================
PROJECT STRUCTURE
====================================

Create the following files:

- package.json
- index.js                    (Express server)
- public/
    - index.html              (UI)
    - styles.css              (styling)
    - app.js                  (calculator logic + DOM)

====================================
SERVER (index.js)
====================================

Requirements:

1. Use Node.js + Express.
2. Serve static files from the "public" directory.
3. Listen on process.env.PORT || 3000.
4. No API routes are required; all calculations happen in the browser.

Pseudo:

- import express
- const app = express()
- app.use(express.static("public"))
- app.listen(PORT, () => console.log(...))

====================================
FRONTEND UI (public/index.html)
====================================

Build a clean, single-page UI with:

- <title>401k Retirement Estimator – Free 401k Calculator</title>

Layout:

- A centered main container with:
  - A heading (H1): "401k Retirement Estimator"
  - A short subheading/paragraph: e.g. "Estimate your 401k balance at retirement based on your current savings, contributions, employer match, and expected returns."
  - A form section with labeled inputs:

    1) Current Age (number)
    2) Retirement Age (number)
    3) Current 401k Balance ($, number)
    4) Annual Salary ($, number)
    5) Employee Contribution (% of salary, number)
    6) Employer Match (% of salary, number)
    7) Expected Annual Return (% per year, number – default 7)
    8) Annual Salary Growth (% per year, number – default 2)

  - A "Calculate" button.

- A result section (initially hidden or empty) that will show:

  - Summary card:
    - Estimated 401k balance at retirement
    - Total contributions (employee + employer)
    - Total investment growth (balance - contributions - starting balance)

  - A simple table titled "Year-by-Year Projection" with columns:
    - Year #
    - Age
    - Salary
    - Employee Contribution
    - Employer Contribution
    - Total Contribution
    - End of Year Balance

- An error message area above the results where validation or calculation errors can be displayed in red text.

Use semantic HTML: <main>, <section>, <header>, etc.

====================================
STYLING (public/styles.css)
====================================

Make it look like a clean, modern tool:

- Body:
  - light background (#f5f5f5)
  - system font stack (e.g., -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif)

- Main container:
  - max-width: 900px
  - margin: 40px auto
  - padding: 24px
  - background: white
  - border-radius: 8px
  - box-shadow: small subtle shadow

- Form:
  - grid layout on desktop (2 columns), single column on mobile
  - labels above inputs
  - inputs with padding, border-radius, and border
  - clear spacing between fields

- Button:
  - primary color (e.g. #111827 or #2563EB)
  - padding 10–14px
  - border-radius: 6px
  - hover state (slightly darker)

- Summary card:
  - separate card with clear typography
  - emphasize final balance with larger font

- Table:
  - full-width
  - sticky header or bold header row
  - striped rows (every other row slightly shaded) for readability
  - responsive: on small screens it can scroll horizontally

====================================
FRONTEND LOGIC (public/app.js)
====================================

Implement all calculator logic in app.js using plain JavaScript.

High-level flow:

1. On DOMContentLoaded:
   - Grab references to the form, input fields, result container, summary elements, table container, and error message element.
   - Attach a submit event listener on the form.

2. On form submit:
   - preventDefault()
   - Read values from the inputs, parse as numbers.
   - Validate:
     - All required fields must be filled.
     - Current age < retirement age.
     - Contributions and rates should be >= 0.
   - If invalid, show a clear error message and stop.
   - If valid, call a function `calculate401kProjection(options)`.

3. `calculate401kProjection(options)`:
   - Input object should include:
     - currentAge
     - retirementAge
     - currentBalance
     - annualSalary
     - employeeContributionPercent
     - employerMatchPercent
     - annualReturnPercent
     - salaryGrowthPercent

   - Convert percentages to decimals, e.g. 7% -> 0.07.

   - Compute:
     - `yearsToInvest = retirementAge - currentAge`.

   - For projection, loop year by year from 1 to yearsToInvest:

     Pseudocode:

     ```
     let balance = currentBalance;
     let salary = annualSalary;
     let totalContributions = 0;
     let rows = [];

     for (let i = 1; i <= yearsToInvest; i++) {
       // growth on existing balance
       balance = balance * (1 + annualReturnRate);

       const employeeContribution = salary * employeeContributionRate;
       const employerContribution = salary * employerMatchRate;
       const yearContribution = employeeContribution + employerContribution;

       balance += yearContribution;
       totalContributions += yearContribution;

       rows.push({
         year: i,
         age: currentAge + i,
         salary,
         employeeContribution,
         employerContribution,
         totalContribution: yearContribution,
         endBalance: balance
       });

       // salary grows for next year
       salary = salary * (1 + salaryGrowthRate);
     }

     const finalBalance = balance;
     const totalGrowth = finalBalance - totalContributions - currentBalance;

     return {
       finalBalance,
       totalContributions,
       totalGrowth,
       rows
     };
     ```

   - Return this object.

4. Rendering results:

   - Create a function `renderResults(result)` that:
     - Formats currency with `Intl.NumberFormat` (e.g., en-US, USD).
     - Inserts finalBalance, totalContributions, and totalGrowth into the summary section.
     - Builds a <tbody> for the projection table using `result.rows`.
       - For each row, show:
         - Year #
         - Age
         - Salary
         - Employee Contribution
         - Employer Contribution
         - Total Contribution
         - End-of-Year Balance

   - Show the results container if it was hidden, and clear any old error messages.

5. Error handling:
   - If something goes wrong in the calculation (NaN, weird inputs), catch it and:
     - Hide or clear results.
     - Show an error message like: "Please check your inputs. Something went wrong with the calculation."

6. UX details:
   - While calculating (even though it's instant), you can briefly show "Calculating..." under the button or in the results area.
   - If user changes inputs and re-submits, overwrite previous results.

====================================
CONTENT ELEMENTS (STATIC TEXT)
====================================

In index.html, below the tool, add a short explanatory section (for SEO and clarity):

- H2: "How We Estimate Your 401k at Retirement"
  - Briefly explain:
    - We assume annual compounding.
    - Contributions happen once per year at year-end (simplification).
    - Salary and contributions grow at the salary growth rate.
    - Investment returns are averaged over time and not guaranteed.

- H2: "Understanding the Results"
  - Explain:
    - Final balance is an estimate.
    - Total contributions include both employee and employer.
    - Total growth is how much your investments earned beyond contributions.

No external links or libraries are required.

====================================
BEHAVIOR & QUALITY CHECK
====================================

- App should run with:
  - npm install
  - node index.js (or `npm start`)

- Must work in the Replit environment.
- All math should be consistent and produce reasonable outputs:
  - If contribution rates are zero, the balance should just grow from the starting balance.
  - If return rate is 0, final balance should equal starting balance + total contributions.

Build the full project with all the above requirements now.
