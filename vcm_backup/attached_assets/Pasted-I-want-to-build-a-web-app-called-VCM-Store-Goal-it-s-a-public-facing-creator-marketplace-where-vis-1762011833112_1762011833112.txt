I want to build a web app called VCM Store.
Goal: it’s a public-facing creator marketplace where visitors can browse everything without logging in — apps I build, funnels I create, info products (PDFs), courses, and freebies.
Only when a user actually claims or buys something do we ask them to create an account (email/password). This keeps the store open and SEO-friendly.
Stack: Next.js (App Router) + TypeScript + Tailwind + shadcn/ui, Supabase for auth/db, Stripe for payments.
1. Public-first UX
Anyone can visit:
/ (hero/landing)
/store (full catalog)
/product/[slug] (product detail)
/blog and /blog/[slug]
/newsletter
/strategy-ai
No auth wall on browsing.
2. When to require login
If the product is free and the user clicks “Get it” → prompt to enter email/password → create Supabase user → create entitlement → redirect to /dashboard.
If the product is paid:
let them click “Buy”
send them to Stripe Checkout
on webhook success, if the user doesn’t exist yet, create one based on the checkout email and grant entitlement
send them a “create password / finish account” link
This flow allows browse first, account later.
3. Routes to create
Public
/ – explain: “VCM Store – apps, systems, and downloads to help creators & digital nomads make money online.”
/store – grid of products from DB, grouped by type.
/product/[slug] – product detail with CTA (free → “Get it”, paid → “Buy”).
/blog – list posts.
/blog/[slug] – single post, supports embedded videos.
/newsletter – email capture form.
/strategy-ai – AI strategy chat page (see below).
Authed
/dashboard – shows everything the user owns (apps, downloads, courses, freebies).
/apps/[slug]
/courses/[slug]
/downloads/[slug]
/billing
4. Database schema (Supabase)
-- products
create table products (
  id uuid primary key default gen_random_uuid(),
  slug text unique not null,
  name text not null,
  description text,
  thumbnail_url text,
  type text not null, -- 'app' | 'course' | 'download' | 'funnel' | 'freebie'
  price_type text not null default 'free', -- 'free' | 'one_time' | 'subscription'
  stripe_price_id text,
  visibility text default 'public',
  meta jsonb default '{}'::jsonb,
  created_at timestamptz default now()
);

-- entitlements
create table entitlements (
  id uuid primary key default gen_random_uuid(),
  user_id uuid not null,
  product_id uuid not null,
  source text not null,
  created_at timestamptz default now(),
  unique(user_id, product_id)
);

-- posts (blog)
create table posts (
  id uuid primary key default gen_random_uuid(),
  slug text unique not null,
  title text not null,
  excerpt text,
  cover_image_url text,
  content text,
  tags text[],
  status text default 'published',
  published_at timestamptz default now()
);

-- subscribers
create table subscribers (
  id uuid primary key default gen_random_uuid(),
  email text not null,
  source text default 'newsletter',
  created_at timestamptz default now()
);

-- profiles (linked to auth.users)
create table profiles (
  id uuid primary key references auth.users(id) on delete cascade,
  display_name text,
  tier text default 'free',
  created_at timestamptz default now()
);
5. Blog + SEO
/blog shows published posts
/blog/[slug] renders markdown/MDX-like content and allows embedded videos
every blog post should have an email capture component at top or bottom → insert into subscribers
below each post, show 2–3 relevant products pulled by tag
6. AI Strategy Page
Route: /strategy-ai
Simple chat UI (input + messages)
For now, mock the AI call, but the AI response should be able to query the products table and suggest products based on keywords the user typed (e.g. “dance”, “paywall”, “embed”, “newsletter”)
Also show: “Want the PDF on this? → link to store item”
This page should also have an email capture box
7. Stripe purchase flow (important!)
Product detail page sends to /api/checkout with product_id
On success (Stripe webhook → /api/webhooks/stripe):
find or create a user by the Stripe customer email
insert into purchases (you can add this table)
insert into entitlements
send them a magic link / “finish account” link (can be TODO if email not configured)
8. Email capture everywhere
Create a shared component like <EmailCapture source="blog-post" />
Drop it on:
/
/store
/blog/[slug]
/strategy-ai
Component posts to /api/subscribe and inserts into subscribers
9. UI style
Use shadcn/ui for Cards, Buttons, Inputs
Store page should look like an app gallery (like a mini App Store) with product type badges
Product page should show:
title
type
description
price or “Free”
CTA (Get / Buy)
recommended other products
10. Goal
The code should be modular so I can keep adding new items to products and they automatically show up on /store without code changes.
This should evolve into a closed ecosystem of apps and digital products that all work together, but browsing must stay public.