You are building a production-ready, SEO-optimized **Online Notepad with AI** for the brand **VCM Suite**.

Primary keyword target: **“online notepad”**  
Secondary: “free online notepad”, “online notes”, “ai notepad”, “write notes online”.

The tool is a simple scratchpad with:
- instant typing
- auto-save in the browser
- word/character count
- basic formatting (H1, bold, italics)
- AI actions: Summarize, Rewrite (clearer), Expand, Shorten.

STACK
- Node.js + Express backend
- Static HTML/CSS/JS frontend (no React)
- OpenAI API for AI features (model: gpt-4o-mini or gpt-4.1-mini; configurable)
- Environment variable: `OPENAI_API_KEY`

PROJECT FILES
- `package.json`
- `server.js`
- `public/index.html`
- `public/styles.css`
- `public/main.js`
- `.env` (for OPENAI_API_KEY, not committed)

====================================
PACKAGE.JSON
====================================
Create `package.json` with:

- name: "vcm-online-notepad"
- main: "server.js"
- scripts:
  - "start": "node server.js"
- dependencies:
  - "express": latest
  - "dotenv": latest
  - "openai": latest
  - "cors": latest

====================================
SERVER.JS
====================================
Implement an Express server:

Requirements:
- Load `dotenv` and read `process.env.OPENAI_API_KEY`.
- If `OPENAI_API_KEY` is missing, log a clear warning on startup.
- Serve static files from `public/`.
- Expose a JSON POST endpoint `/api/ai` for AI actions.

Endpoint `/api/ai`:
- Expects JSON body: `{ mode: string, text: string }`
  - `mode` in: "summarize" | "rewrite" | "expand" | "shorten"
  - `text`: required, non-empty.
- Validate input:
  - If `!text` or `text.trim().length === 0`, return 400 with `{ error: "Text is required." }`.
  - If `mode` is invalid, default to `"rewrite"`.

Prompt logic:
- For each mode, build a system+user prompt:

Mode → Instruction:
- summarize: "Summarize this note in a few concise paragraphs while keeping the key ideas."
- rewrite: "Rewrite this note to be clearer and more readable, keeping the same meaning and tone."
- expand: "Expand this note with more detail and helpful elaboration, keeping the same topic."
- shorten: "Shorten this note while preserving the core meaning and important details."

Use OpenAI official Node SDK (from "openai" package). Example:

```js
const OpenAI = require("openai");
const client = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });

app.post("/api/ai", async (req, res) => {
  // ...validate
  try {
    const completion = await client.chat.completions.create({
      model: "gpt-4o-mini",
      messages: [
        { role: "system", content: systemInstruction },
        { role: "user", content: text }
      ],
      temperature: 0.5,
      max_tokens: 800
    });
    const output = completion.choices[0]?.message?.content || "";
    res.json({ result: output.trim() });
  } catch (err) {
    console.error(err);
    res.status(500).json({ error: "AI request failed. Please try again." });
  }
});
